{
  "tasks": [
    {
      "name": "split_campaign_decision_engine_responsibilities",
      "description": "重构 CampaignDecisionEngine，拆分出风控逻辑、推荐逻辑和策略装配，确保符合单一职责原则",
      "focus_node": "CampaignDecisionEngine.decideOffer",
      "focus_node_after": "CampaignDecisionEngine.decideOffer",
      "query": "CampaignDecisionEngine.decideOffer",
      "expected_files": [
        "src/main/java/com/icbc/marketing/service/CampaignDecisionEngine.java",
        "src/main/java/com/icbc/marketing/service/RiskControlEngine.java",
        "src/main/java/com/icbc/marketing/service/RecommendationEngine.java",
        "src/main/java/com/icbc/marketing/service/StrategyFactory.java"
      ],
      "request": "需求：重构 CampaignDecisionEngine，使其不再同时承担风控、推荐执行和策略装配；拆出职责清晰的组件/工厂并支持注入。\n验收：DemoRunner 行为保持不变；新增/替换策略无需修改引擎核心逻辑（可通过构造注入/工厂）。\n约束：不引入外部依赖；保持接口清晰，便于单测替换实现。"
    }
  ]
}